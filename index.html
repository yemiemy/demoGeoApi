<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form method="get" id="searchForm">
        <div class="d-xl-flex align-items-center">
            <div class="col-lg-12 col-xl-8 no-sm-border border-right">
              <div class="autocomplete-container" id="autocomplete-container"></div>
            </div>
            <div class="w-100 mx-auto">
              <button type="submit" class="submit-search">
                <span class="d-xl-none ">Search</span>
              </button>
            </div>
          </div>
    </form>

    <script src="address.js"></script>
    <script>
        document.getElementById("searchForm").addEventListener("submit", function(e){
              e.preventDefault()
            /*
               @wary - the longitude and latitude values are automatically returned by the api and that's what you need 
               to store in your database. 
              
               You can then use the stored lon and lat values to retrieve the address later. check the getAddress.js file,
               you will see how that works. 
              
               Hopefully this simple project is self explanatory and you can let me know if you need more clarification. 
              */
              let longitude = chosenLocation.lon;
              let latitude = chosenLocation.lat;

              let location = chosenLocation.city + ", " + chosenLocation.county;
              let category = document.getElementById("categoryChosen").value;
              let url = "{% url 'search' 3 99999999999 99999999991 22222222222 %}"
              url = url.replace("3", category)
              url = url.replace("99999999999", longitude)
              url = url.replace("99999999991", latitude)
              url = url.replace("22222222222", location)
              document.location.href = url
          })
    </script>
</body>
</html>